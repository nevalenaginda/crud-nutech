(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{59:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(14),l=a.n(s),r=a(12),i=a(44),o=a(13),d=a(31),b=a(45),u=a(46),m=a.n(u),j=a(47),h=a.n(j),p=a(4),O={allProducts:[],loading:!1,error:null},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQ_GET_ALL_PRODUCTS":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"GET_ALL_PRODUCTS":return Object(p.a)(Object(p.a)({},e),{},{allProducts:t.payload,error:null,loading:!1});case"GET_ALL_PRODUCTS_FAIL":return Object(p.a)(Object(p.a)({},e),{},{error:t.error,loading:!1});case"FIRE_EVENT_EDIT_PRODUCTS":return Object(p.a)(Object(p.a)({},e),{},{allProducts:[],loading:!1});default:return e}},g=Object(o.b)({products:x}),f={key:"root",storage:h.a},N=Object(d.a)(f,g),v=Object(o.c)(N,Object(o.a)(b.a,m.a)),y=Object(d.b)(v),k=(a(59),a(5)),w=a(23),_=a.n(w),S="http://localhost:5000/v1",C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"5",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1";return function(c){return new Promise((function(n,s){c({type:"REQ_GET_ALL_PRODUCTS"}),_.a.get("".concat(S,"/product?sort-by=name&search-by=name&item=").concat(e,"&limit=").concat(t,"&page=").concat(a)).then((function(e){c({type:"GET_ALL_PRODUCTS",payload:e.data}),n(e)})).catch((function(e){console.log(e),c({type:"GET_ALL_PRODUCTS_FAIL",error:e.response.data.message}),s(e)}))}))}},I=a(9),P=a.n(I),L=function(e){var t=e.toString().replace(/[^,\d]/g,"").toString().split(","),a=t[0].length%3,c=t[0].substr(0,a),n=t[0].substr(a).match(/\d{3}/gi);n&&(c+=(a?".":"")+n.join("."));return c=void 0!==t[1]?c+","+t[1]:c,"Rp.".concat(c)},T=a(1);var E=function(e){var t=e.products,a=Object(r.b)(),n="http://localhost:5000/v1",s=Object(c.useState)(t),l=Object(k.a)(s,2),i=l[0],o=l[1],d=Object(c.useState)("".concat(n,"/images/").concat(t.image)),b=Object(k.a)(d,2),u=b[0],m=b[1],j=Object(c.useState)({image:null}),h=Object(k.a)(j,2),O=h[0],x=h[1],g=Object(c.useState)(!1),f=Object(k.a)(g,2),N=f[0],v=f[1];return Object(c.useEffect)((function(){o(t),m("".concat(n,"/images/").concat(t.image)),x({image:null})}),[t,n]),N&&P.a.fire({title:"Loading..",icon:"info",showConfirmButton:!1}),Object(T.jsx)("div",{className:"modal fade",id:"editProduk",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(T.jsx)("div",{className:"modal-dialog",children:Object(T.jsx)("div",{className:"modal-content",children:Object(T.jsxs)("form",{children:[Object(T.jsxs)("div",{className:"modal-header",children:[Object(T.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit Produk"}),Object(T.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(T.jsxs)("div",{className:"modal-body",children:[u&&Object(T.jsx)("img",{className:"rounded mx-auto d-block py-2",style:{width:"150px",height:"200px",backgroundImage:"cover"},src:"".concat(u),alt:"new-product"}),Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("label",{htmlFor:"InputName",className:"form-label fw-bold",children:"Nama"}),Object(T.jsx)("input",{type:"text",className:"form-control",id:"InputName",value:i.name,onChange:function(e){return o(Object(p.a)(Object(p.a)({},i),{},{name:e.target.value}))},required:!0})]}),Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("label",{htmlFor:"InputGambar",className:"form-label fw-bold",children:"Foto"}),Object(T.jsx)("input",{type:"file",className:"form-control",id:"InputGambar",onChange:function(e){if(e.target.files[0]){var t=e.target.files[0];m(URL.createObjectURL(e.target.files[0])),x({image:t})}},required:!0})]}),Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("label",{htmlFor:"InputHargaBeli",className:"form-label fw-bold",children:"Harga beli"}),Object(T.jsx)("input",{type:"number",min:"0",className:"form-control",id:"InputHargaBeli",value:i.purchase_price,onChange:function(e){return o(Object(p.a)(Object(p.a)({},i),{},{purchase_price:e.target.value}))},required:!0})]}),Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("label",{htmlFor:"InputHargaJual",className:"form-label fw-bold",children:"Harga Jual"}),Object(T.jsx)("input",{type:"number",min:"0",className:"form-control",id:"InputHargaJual",value:i.selling_price,onChange:function(e){return o(Object(p.a)(Object(p.a)({},i),{},{selling_price:e.target.value}))},required:!0})]}),Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("label",{htmlFor:"InputStok",className:"form-label fw-bold",children:"Stok"}),Object(T.jsx)("input",{type:"number",min:"0",className:"form-control",id:"InputStok",value:i.stock,onChange:function(e){return o(Object(p.a)(Object(p.a)({},i),{},{stock:e.target.value}))},required:!0})]})]}),Object(T.jsxs)("div",{className:"modal-footer",children:[Object(T.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Keluar"}),Object(T.jsx)("button",{type:"submit",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(e){e.preventDefault();var t=i.id,c=new FormData;c.append("name",i.name),c.append("purchase_price",i.purchase_price),c.append("selling_price",i.selling_price),c.append("stock",i.stock),null!==O.image&&c.append("image",O.image),v(!0),a(function(e,t){return function(a){return new Promise((function(c,n){_.a.patch("".concat(S,"/product/").concat(e),t).then((function(e){a({type:"FIRE_EVENT_EDIT_PRODUCTS"}),c(e)})).catch((function(e){n(e)}))}))}}(t,c)).then((function(e){a(C()),v(!1),P.a.fire({icon:"success",title:"Sukses",text:e.data.message,showConfirmButton:!1,timer:1500})})).catch((function(e){v(!1),P.a.fire({icon:"error",title:"Error",text:e.response.data.message,showConfirmButton:!0})}))},children:"Simpan"})]})]})})})})};var F=function(e){var t=e.listProducts,a=Object(r.b)(),n=Object(c.useState)(!1),s=Object(k.a)(n,2),l=s[0],i=s[1],o=Object(c.useState)({name:"",selling_price:0,purchase_price:0,stock:0,image:"default.png"}),d=Object(k.a)(o,2),b=d[0],u=d[1],m=function(e,t){e.preventDefault(),P.a.fire({title:"Apakah anda yakin?",text:"Data yang dihapus tidak dapat dikembalikan.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, hapus produk ini!",cancelButtonText:"Batalkan"}).then((function(e){e.isConfirmed&&(i(!0),a(function(e){return function(t){return new Promise((function(t,a){_.a.delete("".concat(S,"/product/").concat(e)).then((function(e){t(e)})).catch((function(e){a(e)}))}))}}(t)).then((function(e){i(!1),P.a.fire("Terhapus!","Produk berhasil dihapus.","success"),a(C())})).catch((function(e){i(!1),P.a.fire("Gagal!",e.response.data.message,"error")})))}))};return l&&P.a.fire({title:"Loading..",icon:"info",showConfirmButton:!1}),Object(T.jsxs)("div",{className:"table-responsive",children:[Object(T.jsxs)("table",{className:"table table-striped table-hover",children:[Object(T.jsx)("thead",{className:"table-dark",children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{scope:"col",children:"No."}),Object(T.jsx)("th",{scope:"col",style:{width:"300px"},children:"Nama"}),Object(T.jsx)("th",{scope:"col",style:{width:"200px"},children:"Harga Beli"}),Object(T.jsx)("th",{scope:"col",style:{width:"200px"},children:"Harga Jual"}),Object(T.jsx)("th",{scope:"col",style:{width:"200px"},children:"Stock"}),Object(T.jsx)("th",{scope:"col",style:{width:"300px"},children:"Foto"}),Object(T.jsx)("th",{scope:"col",children:"Action"})]})}),Object(T.jsx)("tbody",{children:t.data&&t.data.length>0?t.data.map((function(e,t){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{scope:"row",children:t+1}),Object(T.jsx)("td",{colSpan:"1",children:e.name}),Object(T.jsx)("td",{children:L(e.purchase_price)}),Object(T.jsx)("td",{children:L(e.selling_price)}),Object(T.jsxs)("td",{children:[e.stock," Buah"]}),Object(T.jsx)("td",{children:Object(T.jsx)("img",{src:"".concat("http://localhost:5000/v1","/images/").concat(e.image),style:{width:"150px",height:"160px",backgroundImage:"cover"},alt:e.name})}),Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"d-inline-block",style:{width:"150px"},children:[Object(T.jsx)("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#editProduk",className:"btn btn-primary text-white me-2",onClick:function(t){u(e)},children:"Edit"}),Object(T.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(t){return m(t,e.id)},children:"Hapus"})]})})]},t)})):Object(T.jsx)("tr",{children:Object(T.jsx)("td",{colSpan:"12",className:"fw-bold text-center",children:"Data not found"})})})]}),Object(T.jsx)(E,{products:b})]})},B=a(24);var D=function(){var e=Object(r.b)(),t=Object(c.useState)({name:"",purchase_price:"",selling_price:"",stock:""}),a=Object(k.a)(t,2),n=a[0],s=a[1],l=Object(c.useState)(null),i=Object(k.a)(l,2),o=i[0],d=i[1],b=Object(c.useState)({image:null}),u=Object(k.a)(b,2),m=u[0],j=u[1],h=Object(c.useState)(!1),O=Object(k.a)(h,2),x=O[0],g=O[1],f=function(e){s(Object(p.a)(Object(p.a)({},n),{},Object(B.a)({},e.target.name,e.target.value)))},N=function(t){t.preventDefault();var a,c=new FormData;c.append("name",n.name),c.append("purchase_price",n.purchase_price),c.append("selling_price",n.selling_price),c.append("stock",n.stock),null!==m.image&&c.append("image",m.image),g(!0),e((a=c,function(e){return new Promise((function(e,t){_.a.post("".concat(S,"/product"),a).then((function(t){e(t)})).catch((function(e){t(e)}))}))})).then((function(t){e(C()),g({name:"",purchase_price:"",selling_price:"",stock:""}),j({image:null}),d(null),g(!1),P.a.fire({icon:"success",title:"Sukses",text:t.data.message,showConfirmButton:!1,timer:1500})})).catch((function(e){g(!1),P.a.fire({icon:"error",title:"Error",text:e.response.data.message,showConfirmButton:!0})}))};return x&&P.a.fire({title:"Loading..",icon:"info",showConfirmButton:!1}),Object(T.jsx)("div",{className:"modal fade",id:"tambahProduk",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(T.jsx)("div",{className:"modal-dialog",children:Object(T.jsxs)("div",{className:"modal-content",children:[Object(T.jsxs)("div",{className:"modal-header",children:[Object(T.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Tambah Produk Baru"}),Object(T.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(T.jsxs)("div",{className:"modal-body",children:[o&&Object(T.jsx)("img",{className:"rounded mx-auto d-block py-2",style:{width:"150px",height:"200px",backgroundImage:"cover"},src:"".concat(o),alt:"new-product"}),Object(T.jsxs)("form",{onSubmit:function(e){return N(e)},children:[Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("label",{htmlFor:"exampleInputName",className:"form-label fw-bold",children:"Nama"}),Object(T.jsx)("input",{type:"text",className:"form-control",id:"exampleInputName",name:"name",value:n.name,onChange:f,required:!0})]}),Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("label",{htmlFor:"exampleInputGambar",className:"form-label fw-bold",children:"Foto"}),Object(T.jsx)("input",{type:"file",className:"form-control",id:"exampleInputGambar",onChange:function(e){if(e.target.files[0]){var t=e.target.files[0];d(URL.createObjectURL(e.target.files[0])),j({image:t})}},required:!0})]}),Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("label",{htmlFor:"exampleInputHargaBeli",className:"form-label fw-bold",children:"Harga beli"}),Object(T.jsx)("input",{type:"number",min:"0",className:"form-control",id:"exampleInputHargaBeli",name:"purchase_price",value:n.purchase_price,onChange:f,required:!0})]}),Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("label",{htmlFor:"exampleInputHargaJual",className:"form-label fw-bold",children:"Harga Jual"}),Object(T.jsx)("input",{type:"number",min:"0",className:"form-control",id:"exampleInputHargaJual",name:"selling_price",value:n.selling_price,onChange:f,required:!0})]}),Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("label",{htmlFor:"exampleInputStok",className:"form-label fw-bold",children:"Stok"}),Object(T.jsx)("input",{type:"number",min:"0",className:"form-control",id:"exampleInputStok",name:"stock",value:n.stock,onChange:f,required:!0})]}),Object(T.jsxs)("div",{className:"col text-end",children:[Object(T.jsx)("button",{type:"button",className:"btn btn-secondary me-2","data-bs-dismiss":"modal",children:"Keluar"}),Object(T.jsx)("button",{type:"submit",className:"btn btn-primary",onSubmit:function(e){return N(e)},children:"Simpan"})]})]})]})]})})})},R=a(109),H=a(107),U=a.p+"static/media/Logo-Nutech.833ed8df.png",G=Object(H.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(2)}}}}));var q=function(){var e=Object(r.b)(),t=G(),a=Object(r.c)((function(e){return e.products})),n=a.allProducts,s=a.error,l=Object(c.useState)(""),i=Object(k.a)(l,2),o=i[0],d=i[1],b=Object(c.useState)(["5","10","15","20"]),u=Object(k.a)(b,1)[0],m=Object(c.useState)(u[0]),j=Object(k.a)(m,2),h=j[0],p=j[1],O=Object(c.useState)("1"),x=Object(k.a)(O,2),g=x[0],f=x[1],N=Object(c.useState)("1"),v=Object(k.a)(N,2),y=v[0],w=v[1];return Object(c.useEffect)((function(){e(C(o,h,g)).then((function(e){f(e.data.pagination.page),w(e.data.pagination.totalPage)}))}),[o,h,g,e]),n&&console.log(n),Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("nav",{className:"navbar navbar bg-white mb-3",children:Object(T.jsx)("img",{src:U,alt:"logo",width:"auto",height:"90",className:"d-inline-block align-text-top"})}),Object(T.jsx)("h1",{className:"mb-5 text-center",children:"Daftar Produk"}),Object(T.jsx)("div",{className:"d-flex justify-content-end",children:Object(T.jsxs)("div",{className:"input-group input-group mb-1",style:{width:"250px"},children:[Object(T.jsx)("h5",{className:"mt-1 me-2",children:"Pencarian: "}),Object(T.jsx)("input",{type:"text",className:"form-control",style:{height:"40px"},placeholder:"Cari produk",onKeyUp:function(e){d(e.target.value),f(1)}})]})}),Object(T.jsxs)("div",{className:"d-flex justify-content-end justify-content-md-between",children:[Object(T.jsx)("button",{className:"btn btn-success mb-2 mt-1 d-none d-md-block","data-bs-toggle":"modal","data-bs-target":"#tambahProduk",style:{height:"45px"},children:"Tambah Produk"}),Object(T.jsxs)("div",{className:"input-group mb-1 mt-2",style:{width:"230px"},children:[Object(T.jsx)("h5",{className:"mt-1 me-2",children:"Limit: "}),Object(T.jsx)("select",{className:"form-select",style:{height:"40px"},"aria-label":".form-select-lg example",onChange:function(e){p(e.target.value),f(1)},children:u.map((function(e){return Object(T.jsx)("option",{value:e,children:e})}))})]})]}),Object(T.jsx)("div",{className:"d-flex justify-content-end d-md-none ",children:Object(T.jsx)("button",{className:"btn btn-success mb-2 mt-2","data-bs-toggle":"modal","data-bs-target":"#tambahProduk",style:{height:"45px"},children:"Tambah Produk"})}),s?Object(T.jsxs)("div",{className:"text-center fw-bold my-5",children:["Error: ",s]}):Object(T.jsx)(F,{listProducts:n}),Object(T.jsx)("div",{className:"d-flex justify-content-end mb-5",children:Object(T.jsx)("div",{className:t.root,children:Object(T.jsx)(R.a,{page:parseInt(g),defaultPage:1,onChange:function(e,t){return f(t)},count:parseInt(y),variant:"outlined",shape:"rounded"})})}),Object(T.jsx)(D,{})]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,111)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,l=t.getTTFB;a(e),c(e),n(e),s(e),l(e)}))};a(89);l.a.render(Object(T.jsx)(n.a.StrictMode,{children:Object(T.jsx)(r.a,{store:v,children:Object(T.jsx)(i.a,{loading:null,persistor:y,children:Object(T.jsx)(q,{})})})}),document.getElementById("root")),A()}},[[90,1,2]]]);
//# sourceMappingURL=main.4065b2c5.chunk.js.map